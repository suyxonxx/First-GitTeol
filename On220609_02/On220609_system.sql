CREATE TABLE MEMBER_TBL_02 (
    CUSTNO NUMBER(6) NOT NULL, /*회원번호*/
    CUSTNAME VARCHAR2(20), /*회원성명*/
    PHONE VARCHAR2(13), /*회원전화*/
    ADDRESS VARCHAR2(60), /*주소*/
    JOINDATE DATE, /*가입일자*/
    GRADE CHAR(1), /*고객등급*/
    CITY CHAR(2), /*거주도시*/
    PRIMARY KEY (CUSTNO)
);

DESC MEMBER_TBL_02;

-- 생성 후 CRUD 권한부여
GRANT INSERT, UPDATE, DELETE, SELECT ON MEMBER_TBL_02 TO SYSTEM;

-- 회원정보 테이블에 대한 시퀀스 추가
CREATE SEQUENCE MEMBER_SEQ
START WITH 100001 
INCREMENT BY 1 
MINVALUE 100001 
CACHE 10;

-- 시퀀스 권한 추가
GRANT ALTER, SELECT ON MEMBER_SEQ TO SYSTEM;

INSERT INTO MEMBER_TBL_02 VALUES(100001, '김행복', '010-1111-2222',
    '서울 동대문구 휘경1동', '20151202', 'A', '01');
INSERT INTO MEMBER_TBL_02 VALUES(100002, '이축복', '010-1111-3333',
    '서울 동대문구 휘경2동', '20151206', 'B', '01');
INSERT INTO MEMBER_TBL_02 VALUES(100003, '장믿음', '010-1111-4444',
    '울릉군 울릉읍 독도1리', '20151001', 'B', '30');
INSERT INTO MEMBER_TBL_02 VALUES(100004, '최사랑', '010-1111-5555',
    '울릉군 울릉읍 독도2리', '20151113', 'A', '30');
INSERT INTO MEMBER_TBL_02 VALUES(100005, '진평화', '010-1111-6666',
    '제주도 제주시 외나무골', '20151225', 'B', '60');
INSERT INTO MEMBER_TBL_02 VALUES(100006, '차공단', '010-1111-7777',
    '제주도 제주시 감나무골', '20151211', 'C', '60');

SELECT * FROM MEMBER_TBL_02;

CREATE TABLE MONEY_TBL_02 (
    CUSTNO NUMBER(6) NOT NULL, /*회원번호*/
    SALENOL NUMBER(8) NOT NULL, /*판매번호*/
    PCOST NUMBER(8), /*단가*/
    AMOUNT NUMBER(4), /*수량*/
    PRICE NUMBER(8), /*가격*/
    PCODE VARCHAR2(4), /*상품코드*/
    SDATE DATE, /*판매일자*/
    PRIMARY KEY(CUSTNO, SALENOL)
);

DESC MONEY_TBL_02;

-- 권한 부여
GRANT INSERT, UPDATE, DELETE, SELECT ON MONEY_TBL_02 TO SYSTEM;

INSERT INTO MONEY_TBL_02
VALUES(100001, 20160001, 500, 5, 2500, 'A001', '20160101');
INSERT INTO MONEY_TBL_02
VALUES(100001, 20160002, 1000, 4, 4000, 'A002', '20160101');
INSERT INTO MONEY_TBL_02
VALUES(100001, 20160003, 500, 3, 1500, 'A008', '20160101');
INSERT INTO MONEY_TBL_02
VALUES(100002, 20160004, 2000, 1, 2000, 'A004', '20160102');
INSERT INTO MONEY_TBL_02
VALUES(100002, 20160005, 500, 1, 500, 'A001', '20160103');
INSERT INTO MONEY_TBL_02
VALUES(100003, 20160006, 1500, 2, 3000, 'A003', '20160103');
INSERT INTO MONEY_TBL_02
VALUES(100004, 20160007, 500, 2, 1000, 'A001', '20160104');
INSERT INTO MONEY_TBL_02
VALUES(100004, 20160008, 300, 1, 300, 'A005', '20160104');
INSERT INTO MONEY_TBL_02
VALUES(100004, 20160009, 600, 1, 600, 'A006', '20160104');
INSERT INTO MONEY_TBL_02
VALUES(100004, 20160010, 3000, 1, 3000, 'A007', '20160106');

SELECT * FROM MONEY_TBL_02;

COMMIT;
